{% extends "frontpage.html" %}

{% block css %}
<!-- 
Google Font - Libre Baskerville

I'm using this font in *my* presentation, but you don't have to use it in
yours. Remove it if you like.   

-->
<link href='http://fonts.googleapis.com/css?family=Libre+Baskerville:400,700,400italic' rel='stylesheet' type='text/css'>
<link rel="stylesheet" type="text/css" href="http://lelandbatey.com/posts/css/syntax.css">
<style type="text/css">

/*
 ******** Style CSS ********
 *

 * CSS for making the text and other stuff look pretty.
 
 */

body{
    font-family      : 'Libre Baskerville', serif;
    color            : #333;
    background-color : #fff;
    line-height      : 1.5;
    text-align       : left;
    font-size        : 30px;
    margin-top       : 0px;
    margin-bottom    : 0px;
    margin-left      : auto;
    margin-right     : auto;
    position         : relative;
}

h1 {
    /*font-family : 'Gill Sans Bold', 'Optima Bold', Arial, sans-serif;*/
	margin        : 0;
	color         : #333;
	font-weight   : 400;
	font-size     : 54px;
	border-bottom : 1px dotted #aaa;
	margin-bottom : 1em;
}
h2{
	color     : #999;
	font-size : 45px;
}
h3{
    color     : #666;
    font-size : 39px;
}
h4 {
    font-size: 36px;
}
h5 {
    font-size: 33px;
}
code {
    font-family      : Consolas, "Inconsolata", Menlo, Monaco, Lucida Console, Liberation Mono, DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace, serif; /* Taken from the stackOverflow CSS*/
    background-color : #f5f5f5;
    border           : 1px solid #e1e1e8;
}

pre {
    display          : block;
	background-color : #f5f5f5;
	border           : 1px solid #ccc;
	padding          : 3px 3px 3px 3px;
	margin           : 0 auto;
}
pre code {
    white-space      : pre-wrap;
    padding          : 0;
    border           : 0;
    background-color : code;
    margin           : 0 auto;
}
table {
    border-collapse: collapse;
}

table, th, td {
    border : 1px solid lightgray;
    padding: 0;
}
blockquote {
    border-left : 4px solid #DDD;
    padding     : 0px 15px;
    color       : #777;
}
h1, h2, h3, h4, h5, code, pre, blockquote, p {
    margin-top: 0;
}

</style>
{% endblock %}

{% block slide %}
{% endblock %}
{% block script %}
<script type="text/javascript">

// Requires jQuery to work

//////////////// Poll Script ////////////////
//
// Every 250 milliseconds, the 
//


function update_slide(slide_contents){
	var slides = document.querySelector('#slides');
	slides.innerHTML = slide_contents;
}


// Updates the contents of the slide div by polling the server.
function poll(){
	setTimeout(function(){
		$.ajax({
			url: '/present/index',
			success: function(data){
				// If the slide has changed, get the contents of the new slide
				// and update the page.
				if (data != current_slide_index){
					console.log(data);
					console.log(current_slide_index);
					current_slide_index = data;
					$.ajax({
						url: '/present/current_slide',
						success: update_slide
					});
				};
				current_slide_index = data;
			}
		});
		poll(current_slide_index);
	},250);
};

var current_slide_index = "what";

poll();

</script>
{% endblock script%}